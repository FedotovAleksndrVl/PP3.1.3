<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Пользователи</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">


</head>
<body>

<div class="container-fluid">
    <div class="card text-white bg-dark">
        <div class="d-flex justify-content-between">
            <div class="d-flex align-items-center">
                <h3 class="mx-auto" id="top-par" th:text="${thisUser.getUsername()} + ' ваша роль: ' + ${#strings.arrayJoin(thisUser.getRoles(), ', ')}"></h3>
            </div>
            <div>
                <form class="bg-dark p-3 text-white-50" id="top-logout" th:method="POST" th:action="@{/logout}">
                    <input type="submit" value="Logout" class="btn btn-dark">
                </form>
            </div>
        </div>
    </div>
</div><br>

<div class="container-fluid">
    <div class="row">

        <div class="col-lg-2 col-md-3">
            <nav class="nav nav-pills nav-fill flex-column">
                <a class="nav-link active" aria-selected="true">Админ</a>
                <a class="nav-link" aria-selected="true">Юзер</a>
            </nav>
        </div>



        <div class="col-lg-8  col-md-10">

            <div>
                <h1>Администрирование</h1>
            </div>

            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Home</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Profile</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Contact</button>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">...</div>
                <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">...</div>
                <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>
            </div>



        </div>
    </div>
</div>

<script>
    var tabEl = document.querySelectorAll('button[data-bs-toggle="tab"]')
    //console.log(tabEl)
    for (i = 0; i < tabEl.length; i++) {
        tabEl[i].addEventListener('shown.bs.tab', function(event) {
            const activated_pane = document.querySelector(event.target.getAttribute('data-bs-target'))
            const deactivated_pane = document.querySelector(event.relatedTarget.getAttribute('data-bs-target'))

            console.log(activated_pane.id)
            // console.log(deactivated_pane.id)

            // do stuff
            activated_pane.append(' hello ' + activated_pane.id)

        })
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>